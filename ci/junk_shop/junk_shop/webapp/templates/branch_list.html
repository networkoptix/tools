{% import "run_macros.html" as run_macros %}

{% extends "layout.html" %}
{% block title %}Runs{% endblock %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='matrix.css') }}">
{% endblock head %}


{% block contents %}

  {% if not branch_table %}
    <p>No runs executed yet</p>
  {% else %}

    <table>
      <tr>
        <th></th>
        {% for platform in platform_list %}
        <th class="axiz">
          <a class="link"
             href="{{ url_for('platform_branch_list', platform_name=platform.name) }}">
            {{ platform.name }}
          </a>
        </th>
        {% endfor %}
      </tr>
      {% for row in branch_table %}
        <tr>
          <td class="axiz">
            <a class="link"
               href="{{ url_for('branch_platform_list', branch_name=row.branch_name) }}">
              {{ row.branch_name }}
            </a>
          </td>
          {% for element in row.platform_list %}
            <td>
              {{ run_macros.platform_box(element) }}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </table>

{% endif %}

{% endblock contents %}
