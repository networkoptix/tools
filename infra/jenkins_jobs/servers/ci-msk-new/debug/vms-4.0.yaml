- project:
    name: debug-pipeline-4.0
    __debug__: true

    pipeline: debug
    pipeline_priority: 1
    max_concurrent_runners: 3

    project: vms

    realcameratesting_framework_branch: vms
    build_webadmin_concurrently: false

    build_watchers: ''

    junkshop_project_name: debug


    version: vms
    default_branch: vms
    use_nx_vms_commit: vms  # FIXME: this is temp fix
    devtools_revision: 'new_junk_shop_params'

    poll_scm_timer: '' # disable triggers

    jobs:

    - param-resolver

    - hg-trigger:
        repo: nx_vms
        branch: vms
        version: vms

    - vms-current-with-tests:
        build_paxton: 'YES'

    - functest:
        build_watchers: anikitin@networkoptix.com,gsovetov@networkoptix.com,vfedorov@networkoptix.com
    - scalability-runner:
        build_watchers: vfedorov@networkoptix.com
    - scalability:
        build_watchers: vfedorov@networkoptix.com
    - realcamera:
        build_watchers: muskov@networkoptix.com

    - preset:
        preset-name:
        - custom:
            max_concurrent_presets: 2
            cancel_in_fav_of_newer_build: 'true'

            vms_build_choice_default: VMS_NEW_BUILD_BY_COMMIT
            vms_build_choice_option_default: ''
            ut_enabled: 'ON'
            ft_enabled: 'ON'
            ft_commit_choice_default: FT_STABLE_PUSH_OR_NIGHTLY
            ft_commit_choice_option_default: ''
            rct_enabled: 'ON'
            rct_commit_choice_default: RCT_STABLE_PUSH_OR_NIGHTLY
            rct_commit_choice_option_default: ''
            st_enabled: 'OFF'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: 'vms'
            default_platforms: linux-x64,windows-x64,mac,bpi
            default_customizations: default
        - on-push-vms:
            vms_build_choice_default: VMS_NEW_BUILD_BY_COMMIT
            vms_build_choice_option_default: ''
            ut_enabled: 'ON'
            ft_enabled: 'OFF'
            ft_commit_choice_default: FT_STABLE_PUSH_OR_NIGHTLY
            ft_commit_choice_option_default: ''
            rct_enabled: 'OFF'
            rct_commit_choice_default: RCT_STABLE_PUSH_OR_NIGHTLY
            rct_commit_choice_option_default: ''
            st_enabled: 'OFF'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: 'vms'
            default_platforms: linux-x64,windows-x64,mac,bpi
            default_customizations: default
        - on-push-ft:
            vms_build_choice_default: VMS_EXISTING_BUILD_FROM_STABLE_PUSH  # VMS_EXISTING_BUILD_FROM_STABLE_PUSH_OR_NIGHTLY
            vms_build_choice_option_default: ''
            ut_enabled: 'OFF'
            ft_enabled: 'ON'
            ft_commit_choice_default: FT_STABLE_PUSH
            ft_commit_choice_option_default: ''
            rct_enabled: 'OFF'
            rct_commit_choice_default: RCT_STABLE_PUSH
            rct_commit_choice_option_default: ''
            st_enabled: 'OFF'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: 'vms'
            default_platforms: ''
            default_customizations: default
            test_list: self_tests
            test_select_expr: 'not windows and not smb'
        - on-push-rct:
            vms_build_choice_default: VMS_EXISTING_BUILD_FROM_STABLE_PUSH  # VMS_EXISTING_BUILD_FROM_STABLE_PUSH_OR_NIGHTLY
            vms_build_choice_option_default: ''
            ut_enabled: 'OFF'
            ft_enabled: 'OFF'
            ft_commit_choice_default: FT_STABLE_PUSH
            ft_commit_choice_option_default: ''
            rct_enabled: 'ON'
            rct_commit_choice_default: RCT_STABLE_PUSH
            rct_commit_choice_option_default: ''
            st_enabled: 'OFF'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: 'vms'
            default_platforms: ''
            default_customizations: default
        - vms-nightly:
            vms_build_choice_default: VMS_NEW_BUILD_BY_COMMIT
            vms_build_choice_option_default: 'vms'
            ut_enabled: 'ON'
            ft_enabled: 'OFF'
            ft_commit_choice_default: FT_STABLE_PUSH_OR_NIGHTLY
            ft_commit_choice_option_default: ''
            rct_enabled: 'OFF'
            rct_commit_choice_default: RCT_STABLE_PUSH_OR_NIGHTLY
            rct_commit_choice_option_default: ''
            st_enabled: 'ON'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: 'vms'
            default_platforms: linux-x64
            default_customizations: default
        # - nightly:
        #     vms_build_choice_default: 'VMS_EXISTING_BUILD_FROM_STABLE_NIGHTLY'
        #     vms_build_choice_option_default: ''
        #     ft_commit_choice_default: FT_STABLE_PUSH
        #     ft_commit_choice_option_default: ''
        #     rct_commit_choice_default: FT_STABLE_PUSH
        #     rct_commit_choice_option_default: ''
        #     default_platforms: bpi
        #     default_customizations: default
        # - nightly:
        #     vms_build_choice_default: 'VMS_EXISTING_BUILD_FROM_STABLE_NIGHTLY'
        #     vms_build_choice_option_default: ''
        #     ft_commit_choice_default: FT_STABLE_PUSH
        #     ft_commit_choice_option_default: ''
        #     rct_commit_choice_default: FT_STABLE_PUSH
        #     rct_commit_choice_option_default: ''
        #     default_platforms: bpi
        #     default_customizations: default
