- job-group:
    name: release/paxton

    cmake_configure_project_root: client/paxton_plugin

    # Some cmake args are applicable for any builds they are applied at first
    # Run cmake -L / cmake -LH / cmake -LAH to see all configuration options
    cmake_configure_args_global: >-
      -Dbeta=TRUE
      -DdeveloperBuild=OFF
      -DcloudGroup=$CLOUD_GROUP

    # REMINDER: runner will not change list of subprojects when
    # extra items are added or removed, so don't forget to change runner
    # template according to changes made here
    platform:
    # there is also edge1 platform, it's declared and commented in jobs section
    - windows-x64:
        distribution_build_node: build-installer-windows
        cmake_configure_generator: 'Visual Studio 15 2017 Win64'
        cmake_configure_target_device: windows-x64
        cmake_configure_args_platform: >-
          -DcodeSigning=OFF
          -DaddQtPdb=ON
          -DtrustedTimestamping=OFF
          -Ax64 -T host=x64

    # TODO: There are some customization that may be build only on specific platform
    # there is no need to generate extra set of jobs that never gonna be triggered.
    # it looks like there are too few customization spec. cmake args and we may move such
    # rare customizations to platform enum.

    cmake_configure_args_customization: >-
      -Dcustomization=$CUSTOMIZATION

    customization:

    # TODO: Enable later when we'll be ready to test it.

    # REMINDER: runner will not change list of subprojects when
    # extra items are added or removed, so don't forget to change runner
    # template according to changes made here
    - default
    - default_cn
    - default_zh_CN
    - digitalwatchdog
    - digitalwatchdog_global
    - hanwha
    - vista:
        cmake_configure_args_customization: >-
          -Dcustomization=$CUSTOMIZATION
          -DtrustedTimestamping=$TRUSTED_TIMESTAMPING
          -DhardwareSigning=$HARDWARE_SIGNING

    jobs:
    - '{pipeline}.{version}.{project}.runner'
    - distribution-build
