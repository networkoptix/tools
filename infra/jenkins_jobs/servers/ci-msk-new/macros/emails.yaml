- publisher:
    name: failure-email

    publishers:
    - email-ext:

        aborted:        true
        failure:        true
        still-failing:  true

        fixed:          false

        # ---- email contents ----
        send-to:
        - recipients
        - requester
        recipients: '{email-recipients}'
        subject: '[Jenkins] $BUILD_STATUS - $PROJECT_NAME - # $BUILD_NUMBER'
        body: |
          $BRANCH $PLATFORM $CUSTOMIZATION failed on commit $NX_VMS_COMMIT

          $BUILD_URL

          $BUILD_LOG
        # ---- email contents ----

- publisher:
    name: fixed-email

    publishers:
    - email-ext:

        failure: false
        fixed:   true

        # ---- email contents ----
        send-to:
        - recipients
        - requester
        recipients: '{email-recipients}'
        subject: '[Jenkins] $BUILD_STATUS - $PROJECT_NAME - # $BUILD_NUMBER'
        body: |
          $BRANCH $PLATFORM $CUSTOMIZATION fixed with commit $NX_VMS_COMMIT
          Thanks, everyone.
        # ---- email contents ----

- publisher:
    name: completed-email

    publishers:
    - email-ext:

        success: true

        # ---- email contents ----
        send-to:
        - requester
        subject: '[Jenkins] $BUILD_STATUS - $PROJECT_NAME - # $BUILD_NUMBER'
        # TODO: Generate repository url
        body: |
          Completed build $BRANCH $PLATFORM $CUSTOMIZATION $NX_VMS_COMMIT
          Artifacts are available at $REPOSITORY_URL
        # ---- email contents ----