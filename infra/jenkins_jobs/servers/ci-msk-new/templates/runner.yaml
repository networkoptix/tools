- job-template:
    name: '{pipeline}.{branch}.vms.runner'
    project-type: multijob
    node: runner

    description: |
      Entry point

    parameters:
    # FIXME: Figure out why extended choice created from JJB is not visible..
    - string:
        name: PLATFORM
        default: 'linux-x64,linux-x86,win-x86'
    - string:
        name: CUSTOMIZATION
        default: 'default,hanwha'
    - string:
        name: _NX_VMS_COMMIT
        default: '{branch}'

    builders:
    # FIXME: run conditionally when commit is not set

    - multijob:
        name: Freeze nx commit
        projects:
        - name: '{pipeline}.{branch}.vms.freeze_nx_vms_commit'
          kill-phase-on: FAILURE
          predefined-parameters: |
            REQUESTED_BY=${{JOB_NAME}}-${{BUILD_NUMBER}}
            NX_VMS_COMMIT=$_NX_VMS_COMMIT
    - copyartifact:
        project: '{pipeline}.{branch}.vms.freeze_nx_vms_commit'
        filter: 'NX_VMS_COMMIT.envvar'
        which-build: last-successful
        parameter-filters: REQUESTED_BY=${{JOB_NAME}}-${{BUILD_NUMBER}}
    - inject:
        properties-file: 'NX_VMS_COMMIT.envvar'

    - multijob:
        name: Request new release build id
        projects:
        - name: '{pipeline}.{counter_name}.generator'
          kill-phase-on: FAILURE
          predefined-parameters: |
            REQUESTED_BY=${{JOB_NAME}}-${{BUILD_NUMBER}}
    - copyartifact:
        project: '{pipeline}.{counter_name}.generator'
        filter: '{counter_var_name}.envvar'
        which-build: last-successful
        parameter-filters: REQUESTED_BY=${{JOB_NAME}}-${{BUILD_NUMBER}}
    - inject:
        properties-file: '{counter_var_name}.envvar'

    - multijob:
        name: Build web admin
        projects:
        - name: '{pipeline}.{branch}.vms.webadmin.universal.build'
          kill-phase-on: FAILURE
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT

    - multijob:
        name: build vms
        projects:

        - name: '{pipeline}.{branch}.vms.installer.linux-x64.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x64.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.linux-x86.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("linux-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bananapi.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bananapi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.bpi.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("bpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.rpi.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("rpi") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.edge1.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("edge1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.tx1.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("tx1") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.android-arm.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("android-arm") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x64.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x64") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.win-x86.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("win-x86") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.mac.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("mac") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.default.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.default_cn.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_cn")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.default_zh_CN.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("default_zh_CN")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.cox.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("cox")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.digitalwatchdog.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.digitalwatchdog_global.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("digitalwatchdog_global")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.hanwha.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("hanwha")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.ipera.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ipera")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.ionetworks.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ionetworks")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.nutech.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("nutech")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.ras.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ras")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.senturian.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("senturian")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.systemk.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("systemk")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.tricom.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("tricom")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.ust.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("ust")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.vista.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vista")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.vmsdemoblue.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoblue")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT


        - name: '{pipeline}.{branch}.vms.installer.ios.vmsdemoorange.all'
          kill-phase-on: NEVER
          enable-condition: >-
            ("$PLATFORM     ").trim().split(",").contains("ios") &&
            ("$CUSTOMIZATION").trim().split(",").contains("vmsdemoorange")
          predefined-parameters: |
            BUILD_IDENTITY=${counter_var_name}
            NX_VMS_COMMIT=$NX_VMS_COMMIT
