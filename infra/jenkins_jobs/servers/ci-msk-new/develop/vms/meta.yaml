- project:
    name: develop/meta

    project: meta-vms
    pipeline: develop
    junkshop_project_name: ci
    pipeline_priority: 5
    max_concurrent_runners: 1
    build_distribution_concurrently: false
    test_distribution_concurrently: false

    version: meta
    default_branch: meta
    use_nx_vms_commit: meta  # FIXME: this is temp fix

    build_watchers: mshevchenko@networkoptix.com

    jobs:

    - metavms-current

    - develop/hg-trigger:
        repo: nx_vms
        branch: meta
        version: meta
        job_to_trigger_on_vms_changed: 'develop.meta.preset.on-push-vms'
        job_to_trigger_on_ft_changed: ''
        job_to_trigger_on_rct_changed: ''
    - param-resolver

    - preset:
        preset-name:
        - on-push-vms:
            auth_kind: system
            vms_build_choice_default: 'VMS_NEW_BUILD_BY_COMMIT'
            vms_build_choice_option_default: 'cloud_dev'
            default_platforms: linux-x64,windows-x64,tx1
            default_customizations: metavms

            ut_enabled: 'ON'

            ft_enabled: 'OFF'
            ft_commit_choice_default: FT_STABLE_PUSH_OR_NIGHTLY
            ft_commit_choice_option_default: ''

            rct_enabled: 'OFF'
            rct_commit_choice_default: RCT_STABLE_PUSH_OR_NIGHTLY
            rct_commit_choice_option_default: ''

            st_enabled: 'OFF'
            st_commit_choice_default: ST_BY_COMMIT
            st_commit_choice_option_default: ''
