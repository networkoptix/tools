- name: Install Mercurial repository
  apt_repository:
    repo: ppa:mercurial-ppa/releases
    state: present
  when: ansible_distribution_release == 'trusty'

- name: Install packages
  become: yes
  become_method: sudo
  apt:
    pkg: "{{ item }}"
    state: present
    update_cache: yes
  with_items:
  - virtualbox-5.1
  - python
  - virtualenv
  - python-demjson
  - python-opencv
  - python-dev
  - ffmpeg
  - libpq-dev
  - gdb

  # TODO: move to common
  - bzip2
  - unzip
  - xz-utils
  - wget
  - less
  - nano
  - mc
  - screen
  - git

  - mercurial

- name: "Install vagrant and download boxes for {{ vagrant_user }}"
  include_tasks: vagrant.yml
