- name: Install packages
  sudo: yes
  apt:
    pkg: "{{item}}"
    state: present
    update_cache: yes
  with_items:
  - virtualbox
  - virtualbox-dkms
  - python
  - virtualenv
  - python-demjson
  - python-opencv
  - python-dev
  - ffmpeg

  - libpq-dev
  - gdb

  # TODO: move to common
  - bzip2
  - unzip
  - xz-utils
  - wget
  - less
  - nano
  - mc
  - screen
  - git

- name: Get vagrant from hashicorp site
  get_url:
    url: https://releases.hashicorp.com/vagrant/{{ vagrant_version }}/vagrant_{{ vagrant_version }}_x86_64.deb
    dest: /tmp/vagrant_{{ vagrant_version }}_x86_64.deb

- name: Install vagrant
  sudo: yes
  command: dpkg -i /tmp/vagrant_{{ vagrant_version }}_x86_64.deb

# TODO: move to common
- include_tasks: "{{ ansible_distribution_release }}_mercurial.yml"
