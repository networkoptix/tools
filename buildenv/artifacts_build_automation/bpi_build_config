export BOX=bpi
export TOOLCHAIN_PATH=$environment/packages/bpi/gcc-4.8.3
export HOST=arm-linux-gnueabihf
export CROSS_PREFIX=$TOOLCHAIN_PATH/bin/$HOST-
#export CROSS_PREFIX=/usr/local/codesourcery/arm-2013.11/bin/arm-none-linux-gnueabi-
export ARCH=arm
export ARCH_SPEC_SUFFIX=v7
export TOOLCHAIN_NAME=linaro
export TOOLCHAIN_VERSION=1.13.1
export SYSROOT_DIR="$NETOPTIX_DEV_DIR/buildenv/packages/bpi/sysroot"

export common_CXXFLAGS="-mfloat-abi=hard -mcpu=cortex-a15 -mfpu=neon-vfpv4"
export common_CFLAGS="-mfloat-abi=hard -mcpu=cortex-a15 -mfpu=neon-vfpv4"
#export common_CFLAGS="-march=armv7-a -mtune=cortex-a15"
#export common_CXXFLAGS="$common_CFLAGS"

export qt_CXXFLAGS="-fno-omit-frame-pointer"

#export openssl_DIR=/tmp/arm_artifacts_kng234js/openssl.1.0.0j/usr/local/ssl/
export openssl_CFLAGS=-fPIC

export ffmpeg_CONFIG_OPTIONS="\
--enable-neon \
--enable-decoder='mp3,mp2' \
--enable-encoder='aac,pcm_mulaw,pcm_s16le,pcm_s16le_planar,g726,pcm_alaw' \
--enable-demuxer='mp3,mp2'"

ffmpeg_bpi_options="\
--enable-decoder='vorbis,theora,vp8' \
--enable-demuxer='ogg,wav' \
--enable-parser='opus,vorbis,vp3,vp8' \
--enable-vdpau \
--enable-hwaccel=h264_vdpau \
--enable-decoder=h264_vdpau \
--extra-cflags='-I$SYSROOT_DIR/usr/include' \
--extra-ldflags='-L$SYSROOT_DIR/usr/lib/arm-linux-gnueabihf -Wl,-rpath-link,$SYSROOT_DIR/usr/lib/arm-linux-gnueabihf'"

if [ "$BANANAPI" != "true" ]; then
    export PKG_CONFIG_LIBDIR="$SYSROOT_DIR/usr/lib/arm-linux-gnueabihf/pkgconfig"
    export PKG_CONFIG_SYSROOT_DIR="$SYSROOT_DIR"

    export ffmpeg_CONFIG_OPTIONS="$ffmpeg_CONFIG_OPTIONS $ffmpeg_bpi_options"
fi
